function BigBrother(e){let t={},n={},o=document.getElementById(e.id);var c;return o=o||document.body,function e(t,n){for(const o in t)if(t.hasOwnProperty(o)){let c=t[o];const r=void 0===n?o:`${n}.${o}`;c instanceof Object&&void 0===n&&e(c,r),Object.defineProperty(t,o,{get:()=>c,set(e){c=e,i(r)}})}}(e.watchers),a("interpolate-for",null,(c=e).watchers,l),a("view-if",null,c.watchers,s),a("watch-text","textContent",c.watchers,u),a("watch-text","innerText",c.watchers,u),a("watch-value","value",c.watchers,u),a("watch-html","innerHTML",c.watchers,u),a("watch-class","className",c.watchers,u),a("watch-id","id",c.watchers,u),a("watch-name","name",c.watchers,u),a("listen-input","input",c,h),a("listen-click","click",c,h),a("listen-change","change",c,h),{el:o,data:e,watch:r,notify:i};function r(e,n){t[e]||(t[e]=[]),t[e].push(n)}function i(e){!t[e]||t[e].length<1||t[e].forEach(e=>e.call())}function a(e,t,n,c){const r=o.querySelectorAll(`[${e}]`);for(const o of r){let r=o.attributes[e].value,i=r.split(".");if(o.removeAttribute(e),1===i.length){c(n,r,o,t,r);continue}let a=i.shift(),l={...n};for(const e of i)l=l[a],a=e;c(l,a,o,t,r)}}function l(e,t,n){const o=n.parentNode,c=e[t],r=/\$\{key\}/g,i=/\$\{value\}/g;for(const e in c){let t=c[e],a=n.cloneNode(!0);for(let o of n.attributes){const n=o.nodeName,c=o.nodeValue.replace(r,e).replace(i,t);a.attributes[n].nodeValue=c}o.insertBefore(a,n),a.removeAttribute("interpolate-for")}o.removeChild(n)}function s(e,t,n,o,c){f(e,t,n),r(c,()=>f(e,t,n))}function f(e,t,o){if(e[t]){const e=n[o];if(void 0===e)return;const t=e.parent,c=t.childNodes[e.index];t.insertBefore(o,c)}else{const e=o.parentNode,t=Array.from(e.children).indexOf(o);n[o]={index:t,parent:e},e.removeChild(o)}}function u(e,t,n,o,c){n[o]=e[t],r(c,()=>n[o]=e[t])}function h(e,t,n,o){n.addEventListener(o,n=>{!function(e,t,n){void 0===e.listeners[t]?e.watchers[t]=n.target.value:e.listeners[t].call(e,n)}(e,t,n)},!0)}}